(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{2947:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/feed",function(){return c(5139)}])},1407:function(d,c,a){"use strict";a.d(c,{Bk:function(){return e},YG:function(){return f}});var b=a(825);(0,b.OP)();var e=(0,b.OP)()?"hamcpine://share?&what=web&value=".concat(document.location.origin):"",f="https://pine.onelink.me/vnSX/zp4sz8vu"},4886:function(c,a,b){"use strict";b.d(a,{E:function(){return d}});var d={scheme:function(){return["scheme"]},posts:function(){return["posts"]},recommend:function(){return["recommend"]},tags:function(){return["tags"]},categories:function(){return["categories"]},filter:function(a){return["filter",a]},post:function(a){return["post",a]},block:function(a){return["block",a]}}},825:function(c,a,b){"use strict";function d(){return!!window.navigator.userAgent.match(/PINE/)}b.d(a,{OP:function(){return d}})},5139:function(g,b,a){"use strict";a.r(b),a.d(b,{"__N_SSP":function(){return A},default:function(){return B}});var h=a(5893),i=a(7294),c=a(5675),j=a.n(c),d=a(1664),k=a.n(d),l=a(825),m=a(7568),e=a(4051),n=a.n(e),o=a(4886),p=a(2161),f=a(9750);function q(){return{onFetch(a){a.fetchFn=()=>{var h,i,j,k,l,m;let n=null==(h=a.fetchOptions)?void 0:null==(i=h.meta)?void 0:i.refetchPage,d=null==(j=a.fetchOptions)?void 0:null==(k=j.meta)?void 0:k.fetchMore,e=null==d?void 0:d.pageParam,t=(null==d?void 0:d.direction)==="forward",u=(null==d?void 0:d.direction)==="backward",b=(null==(l=a.state.data)?void 0:l.pages)||[],g=(null==(m=a.state.data)?void 0:m.pageParams)||[],v=g,C=!1,D=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get(){var b,c;return null!=(b=a.signal)&&b.aborted?C=!0:null==(c=a.signal)||c.addEventListener("abort",()=>{C=!0}),a.signal}})},E=a.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+a.options.queryHash+"'")),w=(a,b,c,d)=>(v=d?[b,...v]:[...v,b],d?[c,...a]:[...a,c]),f=(b,e,c,h)=>{if(C)return Promise.reject("Cancelled");if(void 0===c&&!e&&b.length)return Promise.resolve(b);let d={queryKey:a.queryKey,pageParam:c,meta:a.options.meta};D(d);let f=E(d),g=Promise.resolve(f).then(a=>w(b,c,a,h));return g},c;if(b.length){if(t){let o=void 0!==e,x=o?e:r(a.options,b);c=f(b,o,x)}else if(u){let p=void 0!==e,y=p?e:s(a.options,b);c=f(b,p,y,!0)}else{v=[];let z=void 0===a.options.getNextPageParam,A=!n||!b[0]||n(b[0],0,b);c=A?f([],z,g[0]):Promise.resolve(w([],g[0],b[0]));for(let q=1;q<b.length;q++)c=c.then(c=>{let d=!n||!b[q]||n(b[q],q,b);if(d){let e=z?g[q]:r(a.options,c);return f(c,z,e)}return Promise.resolve(w(c,g[q],b[q]))})}}else c=f([]);let B=c.then(a=>({pages:a,pageParams:v}));return B}}}}function r(b,a){return null==b.getNextPageParam?void 0:b.getNextPageParam(a[a.length-1],a)}function s(a,b){return null==a.getPreviousPageParam?void 0:a.getPreviousPageParam(b[0],b)}class t extends f.z{constructor(a,b){super(a,b)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(a,b){super.setOptions({...a,behavior:q()},b)}getOptimisticResult(a){return a.behavior=q(),super.getOptimisticResult(a)}fetchNextPage({pageParam:a,...b}={}){return this.fetch({...b,meta:{fetchMore:{direction:"forward",pageParam:a}}})}fetchPreviousPage({pageParam:a,...b}={}){return this.fetch({...b,meta:{fetchMore:{direction:"backward",pageParam:a}}})}createResult(c,b){var d,e,f,g,h,i;let{state:a}=c,j=super.createResult(c,b),{isFetching:k,isRefetching:n}=j,l=k&&(null==(d=a.fetchMeta)?void 0:null==(e=d.fetchMore)?void 0:e.direction)==="forward",m=k&&(null==(f=a.fetchMeta)?void 0:null==(g=f.fetchMore)?void 0:g.direction)==="backward";return{...j,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:function(a,b){if(a.getNextPageParam&&Array.isArray(b)){let c=r(a,b);return null!=c&& !1!==c}}(b,null==(h=a.data)?void 0:h.pages),hasPreviousPage:function(a,b){if(a.getPreviousPageParam&&Array.isArray(b)){let c=s(a,b);return null!=c&& !1!==c}}(b,null==(i=a.data)?void 0:i.pages),isFetchingNextPage:l,isFetchingPreviousPage:m,isRefetching:n&&!l&&!m}}}var u=a(5412);function v(a,b,c){let d=(0,p._v)(a,b,c);return(0,u.r)(d,t)}var w=function(b){var c,a=v(o.E.filter(b),(c=(0,m.Z)(n().mark(function a(c){var d,e,f,g,h;return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=void 0===(d=c.pageParam)?void 0:d,f={property:"category",relation:{contains:b}},void 0!==e){a.next=7;break}return a.next=5,fetch("/api/getFilteredData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});case 5:return g=a.sent,a.abrupt("return",g.json());case 7:return a.next=9,fetch("/api/getData?cursor=".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});case 9:return h=a.sent,a.abrupt("return",h.json());case 11:case"end":return a.stop()}},a)})),function(a){return c.apply(this,arguments)}),{getNextPageParam:function(a){return a.next_cursor}});if(!a)throw Error("Posts data is not found");return a},x=function(b){var c,a=v(o.E.filter(b),(c=(0,m.Z)(n().mark(function a(c){var d,e,f,g,h;return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=void 0===(d=c.pageParam)?void 0:d,f={property:"Tags",multi_select:{contains:b}},console.log("pageParam",e),void 0!==e){a.next=8;break}return a.next=6,fetch("/api/getFilteredData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});case 6:return g=a.sent,a.abrupt("return",g.json());case 8:return a.next=10,fetch("/api/getData?cursor=".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});case 10:return h=a.sent,a.abrupt("return",h.json());case 12:case"end":return a.stop()}},a)})),function(a){return c.apply(this,arguments)}),{getNextPageParam:function(a){return a.next_cursor}});if(!a)throw Error("Posts data is not found");return a},y=a(1407),z=function(b){var c=b.id,d=b.property,f=b.name,n=function(a){var c=a.href,d=a.children,b=(0,i.useState)(!1),e=b[0],f=b[1];return(0,h.jsx)(k(),{href:c,legacyBehavior:!0,children:(0,h.jsx)("a",{className:"flex items-center gap-4 px-7 py-3 mb-4 active:bg-neutral-10",onClick:function(a){console.log(c),a.preventDefault(),e||(f(!0),setTimeout(function(){f(!1)},1e3),(0,l.OP)()?window.open("".concat(y.Bk).concat(c.pathname,"?id=").concat(c.query.id)):window.location.href="".concat(c.pathname,"?id=").concat(c.query.id))},children:d})})},a="Tags"===d?x(c):w(c),e=a.data,g=a.hasNextPage,m=a.isFetching,o=a.fetchNextPage;return(0,h.jsx)("article",{className:"p-container",children:e&&(0,h.jsxs)("ul",{className:"pb-7",children:["Tags"===d&&(0,h.jsxs)("h4",{className:"mx-7 py-4",children:["#",c]}),"category"===d&&!(0,l.OP)()&&(0,h.jsx)("h4",{className:"mx-7 py-4",children:f}),e.pages.map(function(b){var a;return null===(a=b.results)|| void 0===a?void 0:a.map(function(a,e){var b,c,d;return a.properties.slug.rich_text.length>0&&(0,h.jsxs)(n,{href:{pathname:"/".concat(a.properties.slug.rich_text[0].plain_text),query:{id:a.id}},children:[(0,h.jsx)("div",{className:"flex-shrink-0",children:(null===(b=a.properties.Icon)|| void 0===b?void 0:null===(c=b.files)|| void 0===c?void 0:c[0])?(0,h.jsx)("div",{className:"bg-neutral-10 w-[50px] h-[50px] text-center rounded-full flex items-center justify-center",children:(0,h.jsx)(j(),{alt:"\uC544\uC774\uCF58",src:a.properties.Icon.files[0].file.url,width:32,height:32,unoptimized:!0})}):(0,h.jsx)(j(),{alt:"\uC544\uC774\uCF58",src:"/icon-bg.png",width:50,height:50})}),(0,h.jsx)("h5",{className:" line-clamp-2",children:null===(d=a.properties)|| void 0===d?void 0:d.Name.title[0].plain_text})]},a.id)})}),g&&(0,h.jsx)("div",{className:"p-container mx-container pb-8",children:(0,h.jsx)("button",{className:"font-bold mx-container p-container py-4 min-w-full rounded-[10px] text-center bg-neutral-20 active:bg-neutral-30",onClick:function(){return o()},disabled:m,children:"\uB354 \uBCF4\uAE30"})})]})})},A=!0,B=function(a){var b=a.id,c=a.property,d=a.name;return(0,h.jsx)(z,{id:b,property:c,name:d})}}},function(a){a.O(0,[675,296,774,888,179],function(){var b;return a(a.s=2947)}),_N_E=a.O()}])